
<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Je t'aime étoilé</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    height: 100%;
    font-family: 'Brush Script MT', cursive;
    cursor: pointer;
  }
  canvas {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    display: block;
  }
</style>
</head>
<body>
<canvas id="stars"></canvas>
<script>
const LOVE_LINES = [
  "Je t'aime","Je t'aime","I love you","I love you","Te amo","Ti amo","Ich liebe dich","Te quero","Eu te amo","T'estimo","Jag älskar dig","Mahal kita","Saya cinta kamu","Je t'aime","I Love you","Mon Amour","My Love","Mon Coeur"
];

const canvas = document.getElementById("stars");
const ctx = canvas.getContext("2d");
let W, H;
let particles = [];
let starfield = [];
let shootingStars = [];

function resize() {
  W = innerWidth; H = innerHeight;
  canvas.width = W; canvas.height = H;
}
window.addEventListener("resize", resize);
resize();

class Star {
  constructor() { this.reset(); }
  reset() { this.x = Math.random() * W; this.y = Math.random() * H; this.size = Math.random() * 2; this.speed = Math.random() * 0.5 + 0.2; }
  update() { this.y += this.speed; if (this.y > H) this.reset(); }
  draw() { ctx.fillStyle = 'white'; ctx.fillRect(this.x, this.y, this.size, this.size); }
}

class Particle {
  constructor(text) {
    this.text = text;
    this.x = (Math.random() - 0.5) * W;
    this.y = (Math.random() - 0.5) * H;
    this.z = Math.random() * W * 2 + W;
    this.size = 25;
    this.speed = 20;
  }
  update() {
    this.z -= this.speed;
    if (this.z < 1) {
      this.z = W * 2 + Math.random() * W;
      this.x = (Math.random() - 0.5) * W;
      this.y = (Math.random() - 0.5) * H;
      this.text = LOVE_LINES[Math.floor(Math.random()*LOVE_LINES.length)];
    }
  }
  draw() {
    const sx = (this.x / this.z) * W + W/2;
    const sy = (this.y / this.z) * H + H/2;
    const scale = W / this.z;
    const opacity = Math.min(1, 3 - this.z / W);
    ctx.font = `${this.size * scale}px 'Brush Script MT', cursive`;
   const colors = [
  {r: 255, g:160, b:120}, // orange pêche
  {r: 255, g:200, b:80},  // jaune-orangée
  {r: 255, g:215, b:100}, // jaune doux
  {r: 255, g:180, b:120}  // saumon clair
];

const cycleDuration = 40000; // 20 secondes pour faire le tour complet
const time = (Date.now() % cycleDuration) / cycleDuration; // 0 → 1

// quelle couleur à chaque instant
const index = Math.floor(time * colors.length);
const nextIndex = (index + 1) % colors.length;
const t = (time * colors.length) % 1; // interpolation entre deux couleurs

const c1 = colors[index];
const c2 = colors[nextIndex];
const r = c1.r + (c2.r - c1.r) * t;
const g = c1.g + (c2.g - c1.g) * t;
const b = c1.b + (c2.b - c1.b) * t;

ctx.fillStyle = `rgba(${r},${g},${b},${opacity})`;
    ctx.textAlign = "center";
    ctx.fillText(this.text, sx, sy);
  }
}

class ShootingStar {
  constructor() { this.reset(); }
  reset() {
    this.x = Math.random() * W/2; // left half of screen
    this.y = Math.random() * H/2; // top half
    this.len = Math.random() * 80 + 50;
    this.speed = Math.random() * 10 + 6;
    this.angle = Math.PI / 4; // 45 degrees diagonal from top-left to bottom-right
    this.active = Math.random() < 0.3; // less frequent
  }
  update() {
    if(this.active){
      this.x += this.speed * Math.cos(this.angle);
      this.y += this.speed * Math.sin(this.angle);
      if (this.x > W || this.y > H) this.reset();
    } else {
      if (Math.random() < 0.003) this.active = true; // encore moins fréquent
    }
  }
  draw() {
    if(this.active){
      ctx.strokeStyle = 'white';
      ctx.beginPath();
      ctx.moveTo(this.x, this.y);
      ctx.lineTo(this.x - this.len * Math.cos(this.angle), this.y - this.len * Math.sin(this.angle));
      ctx.stroke();
    }
  }
}

for (let i = 0; i < 200; i++) starfield.push(new Star()); // un peu plus d'étoiles vers le haut
for (let i = 0; i < 30; i++) particles.push(new Particle(LOVE_LINES[Math.floor(Math.random()*LOVE_LINES.length)]));
for (let i = 0; i < 3; i++) shootingStars.push(new ShootingStar());

function animate() {
  const grad = ctx.createLinearGradient(0,0,0,H);
  grad.addColorStop(0, '#00001a'); // bleu nuit plus foncé
  grad.addColorStop(1, '#000000');
  ctx.fillStyle = grad;
  ctx.fillRect(0, 0, W, H);

  starfield.forEach(s => { s.update(); s.draw(); });
  particles.forEach(p => { p.update(); p.draw(); });
  shootingStars.forEach(ss => { ss.update(); ss.draw(); });
  requestAnimationFrame(animate);
}

animate();
</script>
</body>
</html>
